 
    begin definition for function 304L_yield_temp_dependence
        # from MMPDS10 Figure 6.2.1.1.4a
        type is piecewise linear
        begin values
                0.0000000000000000000000,1.287107151695124907e+00
        1.967000000000001592e+01,1.285226429101707479e+00
        3.967000000000001592e+01,1.282553823311061381e+00
        5.967000000000001592e+01,1.279287305122494223e+00
        7.967000000000001592e+01,1.275327889136352200e+00
        9.967000000000001592e+01,1.270675575352635089e+00
        1.196700000000000159e+02,1.265330363771343558e+00
        1.396700000000000159e+02,1.259292254392476718e+00
        1.596700000000000159e+02,1.252561247216035456e+00
        1.796700000000000159e+02,1.245137342242019107e+00
        1.996700000000000159e+02,1.237020539470427893e+00
        2.196700000000000159e+02,1.228111853501608453e+00
        2.396700000000000159e+02,1.218609255134867286e+00
        2.596700000000000159e+02,1.208314773570898115e+00
        2.796700000000000159e+02,1.197327394209353857e+00
        2.996700000000000159e+02,1.185746102449888539e+00
        3.196700000000000159e+02,1.173273942093540967e+00
        3.396700000000000159e+02,1.160207869339272335e+00
        3.596700000000000159e+02,1.146448898787428616e+00
        3.796700000000000159e+02,1.131898045038356670e+00
        3.996700000000000159e+02,1.116654293491709860e+00
        4.196699999999999022e+02,1.100717644147488183e+00
        4.396699999999999022e+02,1.083989111606037836e+00
        4.596699999999999022e+02,1.066567681267013068e+00
        4.796699999999999022e+02,1.048453353130413213e+00
        4.996700000000000159e+02,1.029646127196238492e+00
        5.196700000000000728e+02,1.010146003464488906e+00
        5.396700000000000728e+02,9.898539965355108716e-01
        5.596699999999998454e+02,9.684731502103438583e-01
        5.796700000000000728e+02,9.463994060876018688e-01
        5.996700000000000728e+02,9.236327641672851252e-01
        6.196700000000000728e+02,9.003711952487006842e-01
        6.396700000000000728e+02,8.767136847315020187e-01
        6.596700000000000728e+02,8.526602326156891287e-01
        6.796700000000000728e+02,8.287057658995297116e-01
        6.996700000000000728e+02,8.048502845830238783e-01
        7.196700000000000728e+02,7.815887156644393263e-01
        7.396700000000000728e+02,7.592180153427368072e-01
        7.596700000000000728e+02,7.382331106161840184e-01
        7.796700000000000728e+02,7.190299430833951844e-01
        7.996700000000000728e+02,7.023014105419449482e-01
        8.196700000000000728e+02,6.879485275921800591e-01
        8.396700000000000728e+02,6.747834694382578435e-01
        8.596700000000000728e+02,6.631031922791388311e-01
        8.796700000000000728e+02,6.526107399158622702e-01
        8.996700000000000728e+02,6.434050977480820777e-01
        9.196700000000000728e+02,6.353872803761444477e-01
        9.396700000000000728e+02,6.283593170007423234e-01
        9.596700000000000728e+02,6.223212076218757050e-01
        9.796700000000000728e+02,6.172729522395445922e-01
        9.996700000000000728e+02,6.130165800544418175e-01
        1.019670000000000073e+03,6.095520910665676029e-01
        1.039670000000000073e+03,6.066815144766145584e-01
        1.059670000000000073e+03,6.046028210838899630e-01
        1.079670000000000073e+03,6.029200692897797031e-01
        1.099670000000000073e+03,6.018312298935906135e-01
        1.119670000000000073e+03,6.010393466963622755e-01
        1.139670000000000073e+03,6.006434050977479400e-01
        1.159670000000000073e+03,6.005444196980944671e-01
        1.179670000000000073e+03,6.005444196980944671e-01
        1.199670000000000073e+03,6.007423904974015239e-01
        1.219670000000000073e+03,6.010393466963622755e-01
        1.239670000000000073e+03,6.013363028953228051e-01
        1.259670000000000073e+03,6.015342736946299729e-01
        1.279670000000000073e+03,6.017322444939370296e-01
        1.299670000000000073e+03,6.017322444939370296e-01
        1.319670000000000073e+03,6.014352882949763890e-01
        1.339670000000000073e+03,6.010393466963622755e-01
        1.359670000000000073e+03,6.002474634991338265e-01
        1.379670000000000073e+03,5.991586241029447368e-01
        1.399670000000000073e+03,5.976738431081414227e-01
        1.419670000000000073e+03,5.957931205147239950e-01
        1.439670000000000073e+03,5.935164563226923429e-01
        1.459670000000000073e+03,5.907448651323928823e-01
        1.479670000000000073e+03,5.874783469438257244e-01
        1.499670000000000073e+03,5.837169017569907581e-01
        1.519670000000000073e+03,5.793615441722345105e-01
        1.539670000000000073e+03,5.745112595892104546e-01
        1.559670000000000073e+03,5.690670626082652284e-01
        1.579670000000000073e+03,5.631279386290520828e-01
        1.599670000000000073e+03,5.565949022519177669e-01
        1.619670000000000073e+03,5.495669388765156427e-01
        1.639670000000000073e+03,5.419450631031922372e-01
        1.659670000000000073e+03,5.338282603316010233e-01
        1.679670000000000073e+03,5.252165305617421120e-01
        1.699670000000000073e+03,5.161098737936153924e-01
        1.719670000000000073e+03,5.065082900272209754e-01
        1.739670000000000073e+03,4.965107646622122783e-01
        1.759670000000000073e+03,4.861172976985894123e-01
        1.779670000000000073e+03,4.754268745360058501e-01
        1.799670000000000073e+03,4.643405097748081745e-01
        1.819670000000000073e+03,4.531551596139568594e-01
        1.839670000000000073e+03,4.416728532541449592e-01
        1.859670000000000073e+03,4.300915614946794752e-01
        1.879670000000000073e+03,4.185102697352139911e-01
        1.899670000000000073e+03,4.069289779757485070e-01
        1.919670000000000073e+03,3.955456570155901352e-01
        1.939670000000000073e+03,3.842613214550853473e-01
        1.959670000000000073e+03,3.733729274931947284e-01
        end
    end

    begin definition for function 304_elastic_mod_temp_dependence
        #Stender et. al.
        type is piecewise linear
        begin values
            294.11,     1
            1673,      0.4
        end
    end 

    begin definition for function 304L_thermal_strain_temp_dependence
        #Stender et. al.
        type is piecewise linear
        begin values
            294.11, 0.0
            1725.0, 0.02
        end
    end

    begin material 304L_viscoplastic
        #density and elastic parameters from Granta's MMPDS10 304L database Table 2.7.1.0(b3). 
        #Design Mechanical and Physical Properties of AISI 304 Stainless Steels

        density = {density}
        thermal engineering strain function = 304L_thermal_strain_temp_dependence
    
        begin parameters for model j2_plasticity
            youngs modulus                = 29e6
            poissons ratio                =   0.27
            yield stress                  = {Y_0*1e3}

            youngs modulus function = 304_elastic_mod_temp_dependence

            hardening model = decoupled_flow_stress

            isotropic hardening model = voce
            hardening modulus = {A*1e3}
             exponential coefficient = {b}

            yield rate multiplier = johnson_cook
            yield rate constant = {10^C}
            yield reference rate = {ref_strain_rate}


            yield temperature multiplier = user_defined
            yield temperature multiplier function = 304L_yield_temp_dependence 

            hardening rate multiplier = rate_independent
            hardening temperature multiplier = temperature_independent

            thermal softening model      = coupled
            beta_tq                      = 0.95
            specific heat = {specific_heat}
        end
    end
